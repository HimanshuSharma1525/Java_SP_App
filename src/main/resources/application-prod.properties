# ============================================
# Production Configuration for Render Deployment
# ============================================

# Application Name
spring.application.name=multitenant-app

# Server Configuration
server.port=${PORT:9090}

# Base Domain Configuration
# Change this to your actual Render domain
app.base.domain=${BASE_DOMAIN:oggyandolivia.cfd}

# ============================================
# Database Configuration (Render PostgreSQL)
# ============================================
# Render provides DATABASE_URL environment variable
# We need to add jdbc: prefix for Spring Boot
spring.datasource.url=jdbc:${DATABASE_URL:postgresql://himanshu:wAJZWWoFB5HNw9ImX5rze09SddsLD9jg@dpg-d477k93ipnbc73c1u0i0-a.oregon-postgres.render.com:5432/logindb_tq2r}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ============================================
# JPA / Hibernate
# ============================================
# Use 'update' for first deployment, then change to 'validate'
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false
spring.jpa.open-in-view=false

# ============================================
# Flyway (Disabled - using Hibernate DDL)
# ============================================
spring.flyway.enabled=false

# ============================================
# JWT Configuration
# ============================================
jwt.secret=${JWT_SECRET:OpPH0DZDoML0EogsJ0bzDdxSh2pkq123ChangeMeInProduction}
jwt.expiration=86400000

# ============================================
# Logging
# ============================================
logging.level.root=INFO
logging.level.com.yourcompany.multitenant=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# ============================================
# Error Handling
# ============================================
server.error.include-message=always
server.error.include-binding-errors=always

# ============================================
# Static Resources
# ============================================
spring.web.resources.static-locations=classpath:/static/

# ============================================
# Session Configuration
# ============================================
server.servlet.session.timeout=30m

# ============================================
# Security Headers
# ============================================
server.compression.enabled=true
server.http2.enabled=true